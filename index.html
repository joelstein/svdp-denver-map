<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Parish Finder</title>
  <style
</head>
<body>

  <form>
    <p style="font-family: Georgia, serif">
      <label for="address">Your address:</label>
      <input type="text" name="address" id="address" required>
      <input type="submit" value="Search">
    </p>
  </form>

  <div id="map" style="width: 100%; height: 400px"></div>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script type="text/javascript" src="//maps.googleapis.com/maps/api/js?key=AIzaSyB_X7IXJcLXaWAQ0kFDjG3_q35G-P9XkMU"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      // Center map in Denver.
      var map = new google.maps.Map(document.getElementById('map'), {
        center: {lat: 39.7634727, lng: -104.9725622},
        zoom: 10
      });

      // Add KML layer.
      var layer = new google.maps.KmlLayer('http://joelstein.github.io/svdp-denver-map/boundaries.kml', {
        map: map,
        preserveViewport: true
      });

      // When form is submitted, geocode and recenter.
      var geocoder = new google.maps.Geocoder();
      $('form').submit(function() {
        geocoder.geocode({'address': $('input[name=address]').val()}, function(results, status) {
          if (status == google.maps.GeocoderStatus.OK) {
            map.setCenter(results[0].geometry.location);
            var marker = new google.maps.Marker({
              map: map,
              position: results[0].geometry.location,
              title: results[0].formatted_address
            });
            map.setZoom(14);
          }
          else {
            alert("We had trouble locating your address on the map. Please try again.");
          }
        });
        return false;
      });
    });
  </script>

</body>
</html>
